<script>
  const openHand = document.getElementById("openHand");
  const holdHand = document.getElementById("holdHand");
  const btnRelax = document.getElementById("btnRelax");
  const btnHold  = document.getElementById("btnHold");
  const btnHUD   = document.getElementById("btnHUD");
  const hud      = document.getElementById("hud");

  let state = "RELAX";
  let hudVisible = false;

  function setState(next) {
    state = next;

    if (state === "RELAX") {
      openHand.style.opacity = "0.55";
      openHand.style.zIndex  = 2;

      holdHand.style.opacity = "0";
      holdHand.style.zIndex  = 1;

      btnRelax.classList.add("active");
      btnHold.classList.remove("active");
    }

    if (state === "HOLD") {
      holdHand.style.opacity = "0.55";
      holdHand.style.zIndex  = 2;

      openHand.style.opacity = "0";
      openHand.style.zIndex  = 1;

      btnHold.classList.add("active");
      btnRelax.classList.remove("active");
    }

    updateHUD(`→ ${state}`);
  }

  function updateHUD(extra="") {
    hud.textContent =
      `STATE: ${state}\n` +
      `open loaded: ${openHand.complete}\n` +
      `hold loaded: ${holdHand.complete}\n` +
      `UA:\n${navigator.userAgent}\n` +
      extra;
  }

  btnRelax.onclick = () => setState("RELAX");
  btnHold.onclick  = () => setState("HOLD");

  btnHUD.onclick = () => {
    hudVisible = !hudVisible;
    hud.style.display = hudVisible ? "block" : "none";
    updateHUD("HUD toggled");
  };

  // 初期状態
  setState("RELAX");
</script>
